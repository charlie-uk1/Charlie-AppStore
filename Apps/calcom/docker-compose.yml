name: calcom
services:
  calcom:
    image: calcom/cal.com:latest
    container_name: calcom
    restart: always
    ports:
      - "3010:3000"
    environment:
      - NODE_ENV=production
      - DATABASE_URL=postgresql://calcom:calcom_password@calcom-db:5432/calcom
      - NEXT_PUBLIC_WEBAPP_URL=http://localhost:3010
      - NEXTAUTH_SECRET=changeme_at_least_32_chars_long
      - CALENDSO_ENCRYPTION_KEY=changeme_exactly_24_chars_long
    depends_on:
      - calcom-db
    x-casaos:
      ports:
        - container: "3000"
          description:
            en_us: "Web Interface"

  calcom-db:
    image: postgres:13-alpine
    container_name: calcom-db
    restart: always
    environment:
      - POSTGRES_USER=calcom
      - POSTGRES_PASSWORD=calcom_password
      - POSTGRES_DB=calcom
    volumes:
      - /DATA/AppData/calcom/db:/var/lib/postgresql/data

x-casaos:
  architectures:
    - amd64
    - arm64
  main: calcom
  author: Cal.com Team
  category: Charlie
  description:
    en_us: "Open-source scheduling infrastructure. A self-hosted alternative to Calendly."
  developer: Cal.com, Inc.
  icon: https://cdn.jsdelivr.net/gh/homarr-labs/dashboard-icons/png/cal-com-light.png
  tagline:
    en_us: "Scheduling for everyone."
  title:
    en_us: Cal.com
  port_map: "3010"
