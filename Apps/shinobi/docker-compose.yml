name: shinobi
services:
  shinobi:
    container_name: shinobi
    image: shinobisystems/shinobi:latest
    restart: unless-stopped
    ports:
      - "3050:8080" # Map Host 3050 to Container 8080
    environment:
      - PUID=0
      - PGID=0
      - TZ=Etc/UTC # Update this to your timezone (e.g., America/New_York)
    volumes:
      - /DATA/AppData/shinobi/config:/config
      - /DATA/AppData/shinobi/customautoload:/home/Shinobi/libs/customAutoLoad
      - /DATA/AppData/shinobi/database:/var/lib/mysql
      - /DATA/AppData/shinobi/videos:/opt/shinobi/videos
      - /dev/shm/shinobiStreams:/dev/shm/streams
    privileged: true
    x-casaos:
      ports:
        - container: "3050"
          description:
            en_us: "Web Interface"
      volumes:
        - container: /config
          description:
            en_us: "Configuration Files"
        - container: /opt/shinobi/videos
          description:
            en_us: "Video Recordings"

x-casaos:
  architectures:
    - amd64
    - arm64
  main: shinobi
  author: Shinobi Systems
  category: Charlie
  description:
    en_us: "Open-source, high-performance NVR solution. Supports motion detection, recording, and streaming."
  developer: Moe Alam
  icon: https://cdn.shinobi.video/img/logo.png
  tagline:
    en_us: "Professional CCTV and NVR software."
  title:
    en_us: Shinobi
  port_map: "3050"
